(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[276],{6373:function(e,s,t){Promise.resolve().then(t.bind(t,5504))},5137:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(8030).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},2421:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(8030).Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},5504:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return E}});var a=t(7437),r=t(2265),i=t(7138),l=t(6648),n=t(6463),c=t(5137),d=t(5931),o=t(9338),x=t(4241),m=t(4436),h=t(8094),u=t(1513),p=t(6504),g=t(9966),j=t(6760),N=t(649),b=t(2421),f=t(7164),v=t(4446),y=t(6349);function w(e){var s;let{seasons:t,currentEpisodeId:i,onEpisodeSelect:l}=e,[n,c]=(0,r.useState)((null===(s=t[0])||void 0===s?void 0:s.seasonNumber)||1),d=e=>{c(n===e?0:e)};return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("h3",{className:"text-xl font-bold text-text-primary flex items-center gap-2",children:["Episodes",(0,a.jsxs)("span",{className:"text-sm font-normal text-text-muted",children:["(",t.reduce((e,s)=>e+s.episodes.length,0)," total)"]})]}),(0,a.jsx)("div",{className:"space-y-3",children:t.map(e=>(0,a.jsxs)("div",{className:"bg-card rounded-xl border border-border overflow-hidden",children:[(0,a.jsxs)("button",{onClick:()=>d(e.seasonNumber),className:"w-full flex items-center justify-between p-4 hover:bg-border/50 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("span",{className:"text-lg font-semibold text-text-primary",children:["Season ",e.seasonNumber]}),(0,a.jsxs)(N.Z,{variant:"outline",size:"sm",children:[e.episodes.length," ",1===e.episodes.length?"Episode":"Episodes"]})]}),(0,a.jsx)(b.Z,{className:(0,y.cn)("w-5 h-5 text-text-muted transition-transform duration-300",n===e.seasonNumber&&"rotate-180")})]}),(0,a.jsx)(v.M,{children:n===e.seasonNumber&&(0,a.jsx)(u.E.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden",children:(0,a.jsx)("div",{className:"border-t border-border",children:e.episodes.map((s,t)=>{let r="".concat(e.seasonNumber,"-").concat(s.episodeNumber),n=i===r;return(0,a.jsxs)(u.E.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.05*t},className:(0,y.cn)("flex items-center gap-4 p-4 hover:bg-border/30 transition-colors",n&&"bg-primary-gold/10 border-l-4 border-l-primary-gold"),children:[(0,a.jsx)("div",{className:"flex-shrink-0 w-10 h-10 rounded-lg bg-border flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-sm font-semibold text-text-muted",children:s.episodeNumber})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("h4",{className:"font-medium text-text-primary truncate",children:s.episodeTitle}),s.quality&&(0,a.jsx)("span",{className:"text-xs text-text-muted",children:s.quality})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[s.embedIframeLink&&(0,a.jsx)("button",{onClick:()=>null==l?void 0:l(s,e.seasonNumber),className:(0,y.cn)("p-2.5 rounded-lg transition-all",n?"bg-primary-gold text-background":"bg-border text-text-muted hover:text-primary-gold hover:bg-primary-gold/10"),children:(0,a.jsx)(h.Z,{className:"w-4 h-4 fill-current"})}),s.downloadLink&&(0,a.jsx)("a",{href:s.downloadLink,target:"_blank",rel:"noopener noreferrer",className:"p-2.5 rounded-lg bg-border text-text-muted hover:text-secondary-purple hover:bg-secondary-purple/10 transition-all",children:(0,a.jsx)(f.Z,{className:"w-4 h-4"})})]})]},r)})})})})]},e.seasonNumber))})]})}var k=t(999),Z=t(9342),S=t(8990);function E(){var e,s;let t=(0,n.useParams)(),[b,f]=(0,r.useState)(null),[v,y]=(0,r.useState)([]),[E,_]=(0,r.useState)(!0);(0,r.useEffect)(()=>{t.id&&z()},[t.id]);let z=async()=>{try{let e=await fetch("/api/content/".concat(t.id)),s=await e.json();s.success&&(f(s.data),C(s.data._id))}catch(e){console.error("Failed to fetch series:",e)}finally{_(!1)}},C=async e=>{try{let s=await fetch("/api/content?type=series"),t=await s.json();t.success&&y(t.data.filter(s=>String(s._id)!==e).slice(0,6))}catch(e){console.error("Failed to fetch similar series:",e)}},L=()=>{var e;return(null==b?void 0:null===(e=b.seasons)||void 0===e?void 0:e.reduce((e,s)=>{var t;return e+((null===(t=s.episodes)||void 0===t?void 0:t.length)||0)},0))||0};return E?(0,a.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,a.jsx)(p.Z,{}),(0,a.jsx)("div",{className:"pt-16",children:(0,a.jsx)("div",{className:"h-[50vh] bg-card animate-pulse"})})]}):b?(0,a.jsxs)("main",{className:"min-h-screen bg-background",children:[(0,a.jsx)(p.Z,{}),(0,a.jsxs)("div",{className:"pt-16",children:[(0,a.jsxs)("div",{className:"relative h-[50vh] min-h-[400px]",children:[(0,a.jsx)(l.default,{src:b.banner||b.poster,alt:b.title,fill:!0,className:"object-cover",priority:!0}),(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-background via-background/80 to-transparent"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-background via-background/60 to-transparent"})]}),(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 -mt-32 relative z-10",children:(0,a.jsxs)(u.E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,a.jsx)("div",{className:"lg:col-span-1",children:(0,a.jsx)("div",{className:"relative aspect-[2/3] rounded-2xl overflow-hidden border border-border shadow-2xl",children:(0,a.jsx)(l.default,{src:b.poster,alt:b.title,fill:!0,className:"object-cover"})})}),(0,a.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,a.jsxs)(i.default,{href:"/",className:"inline-flex items-center gap-2 text-text-muted hover:text-primary-gold transition-colors",children:[(0,a.jsx)(c.Z,{className:"w-4 h-4"}),"Back to Home"]}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,a.jsx)(N.Z,{variant:"purple",children:"Web Series"}),(0,a.jsxs)(N.Z,{variant:"outline",className:"flex items-center gap-1",children:[(0,a.jsx)(d.Z,{className:"w-3 h-3"}),(null===(e=b.seasons)||void 0===e?void 0:e.length)||0," Seasons"]}),(0,a.jsxs)(N.Z,{variant:"outline",children:[L()," Episodes"]}),b.rating&&(0,a.jsxs)(N.Z,{variant:"green",className:"flex items-center gap-1",children:[(0,a.jsx)(o.Z,{className:"w-3 h-3 fill-current"}),b.rating]})]}),(0,a.jsx)("h1",{className:"text-4xl sm:text-5xl font-bold text-text-primary",children:b.title}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-4 text-text-muted",children:[b.year&&(0,a.jsxs)("span",{className:"flex items-center gap-1.5",children:[(0,a.jsx)(x.Z,{className:"w-4 h-4"}),b.year]}),b.language&&(0,a.jsxs)("span",{className:"flex items-center gap-1.5",children:[(0,a.jsx)(m.Z,{className:"w-4 h-4"}),b.language]})]}),b.description&&(0,a.jsx)("p",{className:"text-text-muted text-lg leading-relaxed",children:b.description}),b.tags&&b.tags.length>0&&(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:b.tags.map((e,s)=>(0,a.jsx)("span",{className:"px-3 py-1 rounded-full bg-card border border-border text-sm text-text-muted",children:e},s))}),(0,a.jsx)("div",{className:"flex flex-wrap gap-4 pt-4",children:(0,a.jsx)(i.default,{href:"/series/watch/".concat(b._id),children:(0,a.jsxs)(j.Z,{size:"lg",variant:"secondary",className:"gap-2",children:[(0,a.jsx)(h.Z,{className:"w-5 h-5 fill-current"}),"Start Watching"]})})}),(0,a.jsx)("div",{className:"pt-6 border-t border-border",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-text-muted block",children:"Added"}),(0,a.jsx)("span",{className:"text-text-primary",children:(0,S.p)(b.createdAt)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-text-muted block",children:"Seasons"}),(0,a.jsx)("span",{className:"text-text-primary",children:(null===(s=b.seasons)||void 0===s?void 0:s.length)||0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-text-muted block",children:"Episodes"}),(0,a.jsx)("span",{className:"text-text-primary",children:L()})]})]})})]})]})}),(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-12",children:(0,a.jsx)(Z.Z,{slot:"series-details",className:"w-full h-24"})}),(0,a.jsx)("div",{className:"max-w-4xl mx-auto px-4 pb-12",children:b.seasons&&b.seasons.length>0&&(0,a.jsx)(w,{seasons:b.seasons,onEpisodeSelect:(e,s)=>{window.location.href="/series/watch/".concat(null==b?void 0:b._id,"?season=").concat(s,"&episode=").concat(e.episodeNumber)}})}),v.length>0&&(0,a.jsx)(k.Z,{title:"Similar Series",items:v,horizontal:!0,icon:"series"})]}),(0,a.jsx)(g.Z,{})]}):(0,a.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,a.jsx)(p.Z,{}),(0,a.jsxs)("div",{className:"pt-32 text-center",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-text-primary",children:"Series not found"}),(0,a.jsx)(i.default,{href:"/",className:"text-primary-gold mt-4 inline-block",children:"Go back home"})]})]})}},8990:function(e,s,t){"use strict";function a(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}t.d(s,{p:function(){return a}})}},function(e){e.O(0,[562,648,384,808,82,393,971,23,744],function(){return e(e.s=6373)}),_N_E=e.O()}]);