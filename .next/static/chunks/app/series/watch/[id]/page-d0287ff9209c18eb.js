(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[422],{3881:function(e,s,t){Promise.resolve().then(t.bind(t,8536))},5137:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(8030).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},8536:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return b}});var a=t(7437),i=t(2265),r=t(7138),l=t(6463),n=t(5137),d=t(1513),o=t(6504),c=t(9966),x=t(4130),m=t(9342),u=t(649),p=t(6349);function h(){var e,s;let t=(0,l.useParams)(),h=(0,l.useSearchParams)(),[b,f]=(0,i.useState)(null),[v,N]=(0,i.useState)(1),[j,y]=(0,i.useState)(null),[g,w]=(0,i.useState)(!0),[k,S]=(0,i.useState)(!1),Z=h.get("season"),E=h.get("episode");(0,i.useEffect)(()=>{t.id&&L()},[t.id]),(0,i.useEffect)(()=>{var e,s;if(b&&Z&&E){let s=parseInt(Z),t=parseInt(E),a=null===(e=b.seasons)||void 0===e?void 0:e.find(e=>e.seasonNumber===s),i=null==a?void 0:a.episodes.find(e=>e.episodeNumber===t);i&&(N(s),y(i))}else if(b&&!j){let e=null===(s=b.seasons)||void 0===s?void 0:s[0],t=null==e?void 0:e.episodes[0];t&&(N(e.seasonNumber),y(t))}},[b,Z,E]);let L=async()=>{try{let e=await fetch("/api/content/".concat(t.id)),s=await e.json();s.success&&f(s.data)}catch(e){console.error("Failed to fetch series:",e)}finally{w(!1)}},_=(e,s)=>{N(s),y(e),S(!1);let t=new URL(window.location.href);t.searchParams.set("season",s.toString()),t.searchParams.set("episode",e.episodeNumber.toString()),window.history.replaceState({},"",t)},P=null==b?void 0:null===(e=b.seasons)||void 0===e?void 0:e.find(e=>e.seasonNumber===v);return g?(0,a.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,a.jsx)(o.Z,{}),(0,a.jsx)("div",{className:"pt-24 px-4",children:(0,a.jsx)("div",{className:"max-w-6xl mx-auto",children:(0,a.jsx)("div",{className:"aspect-video bg-card rounded-2xl animate-pulse"})})})]}):b?(0,a.jsxs)("main",{className:"min-h-screen bg-background",children:[(0,a.jsx)(o.Z,{}),(0,a.jsx)("div",{className:"pt-20 pb-12",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,a.jsx)(d.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"mb-6",children:(0,a.jsxs)(r.default,{href:"/series/".concat(b._id),className:"inline-flex items-center gap-2 text-text-muted hover:text-primary-gold transition-colors",children:[(0,a.jsx)(n.Z,{className:"w-4 h-4"}),"Back to Series Details"]})}),(0,a.jsx)(d.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-6",children:(0,a.jsx)(x.Z,{src:null==j?void 0:j.embedIframeLink,title:"".concat(b.title," - ").concat((null==j?void 0:j.episodeTitle)||"Episode")})}),(0,a.jsxs)(d.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"mb-8",children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[(0,a.jsxs)(u.Z,{variant:"purple",children:["S",v]}),(0,a.jsxs)(u.Z,{variant:"gold",children:["E",null==j?void 0:j.episodeNumber]}),(null==j?void 0:j.quality)&&(0,a.jsx)(u.Z,{variant:"outline",children:j.quality})]}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-text-primary mb-2",children:(null==j?void 0:j.episodeTitle)||"Episode ".concat(null==j?void 0:j.episodeNumber)}),(0,a.jsx)("p",{className:"text-text-muted text-lg",children:b.title})]}),(0,a.jsx)("div",{className:"mb-8",children:(0,a.jsx)(m.Z,{slot:"series-watch",className:"w-full h-24"})}),(0,a.jsxs)(d.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-card rounded-2xl border border-border overflow-hidden",children:[(0,a.jsx)("div",{className:"flex border-b border-border overflow-x-auto",children:null===(s=b.seasons)||void 0===s?void 0:s.map(e=>(0,a.jsxs)("button",{onClick:()=>{N(e.seasonNumber),e.episodes.length>0&&_(e.episodes[0],e.seasonNumber)},className:(0,p.cn)("px-6 py-4 text-sm font-medium whitespace-nowrap transition-colors",v===e.seasonNumber?"text-primary-gold border-b-2 border-primary-gold":"text-text-muted hover:text-text-primary"),children:["Season ",e.seasonNumber]},e.seasonNumber))}),(0,a.jsx)("div",{className:"max-h-96 overflow-y-auto",children:null==P?void 0:P.episodes.map(e=>{let s=(null==j?void 0:j.episodeNumber)===e.episodeNumber;return(0,a.jsxs)("button",{onClick:()=>_(e,v),className:(0,p.cn)("w-full flex items-center gap-4 p-4 text-left transition-colors hover:bg-border/30",s&&"bg-primary-gold/10 border-l-4 border-l-primary-gold"),children:[(0,a.jsx)("div",{className:"flex-shrink-0 w-10 h-10 rounded-lg bg-border flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-sm font-semibold text-text-muted",children:e.episodeNumber})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("h4",{className:"font-medium text-text-primary truncate",children:e.episodeTitle}),e.quality&&(0,a.jsx)("span",{className:"text-xs text-text-muted",children:e.quality})]}),e.downloadLink&&(0,a.jsx)("a",{href:e.downloadLink,target:"_blank",rel:"noopener noreferrer",onClick:e=>e.stopPropagation(),className:"px-3 py-1.5 rounded-lg bg-border text-xs text-text-muted hover:text-secondary-purple hover:bg-secondary-purple/10 transition-colors",children:"Download"})]},e.episodeNumber)})})]})]})}),(0,a.jsx)(c.Z,{})]}):(0,a.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,a.jsx)(o.Z,{}),(0,a.jsxs)("div",{className:"pt-32 text-center",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-text-primary",children:"Series not found"}),(0,a.jsx)(r.default,{href:"/",className:"text-primary-gold mt-4 inline-block",children:"Go back home"})]})]})}function b(){return(0,a.jsx)(i.Suspense,{fallback:(0,a.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,a.jsx)(o.Z,{}),(0,a.jsx)("div",{className:"pt-24 px-4",children:(0,a.jsx)("div",{className:"max-w-6xl mx-auto",children:(0,a.jsx)("div",{className:"aspect-video bg-card rounded-2xl animate-pulse"})})})]}),children:(0,a.jsx)(h,{})})}},4130:function(e,s,t){"use strict";t.d(s,{Z:function(){return n}});var a=t(7437),i=t(2265);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(8030).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var l=t(1513);function n(e){let{src:s,title:t}=e,[n,d]=(0,i.useState)(!0),[o,c]=(0,i.useState)(!1);return s?(0,a.jsxs)("div",{className:"relative w-full aspect-video bg-black rounded-2xl overflow-hidden border border-border shadow-2xl",children:[n&&(0,a.jsx)(l.E.div,{initial:{opacity:1},animate:{opacity:n?1:0},className:"absolute inset-0 bg-card flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 rounded-full border-4 border-primary-gold/30 border-t-primary-gold animate-spin mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-text-muted",children:"Loading player..."})]})}),o&&(0,a.jsx)("div",{className:"absolute inset-0 bg-card flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center p-8",children:[(0,a.jsx)("div",{className:"w-20 h-20 rounded-full bg-red-500/10 flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)(r,{className:"w-10 h-10 text-red-500"})}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-text-primary mb-2",children:"Failed to Load Video"}),(0,a.jsx)("p",{className:"text-text-muted",children:"Please try again later or check your connection."})]})}),(0,a.jsx)("iframe",{src:s,title:t,className:"w-full h-full",allowFullScreen:!0,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",onLoad:()=>d(!1),onError:()=>{d(!1),c(!0)}})]}):(0,a.jsx)("div",{className:"relative w-full aspect-video bg-card rounded-2xl border border-border flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center p-8",children:[(0,a.jsx)("div",{className:"w-20 h-20 rounded-full bg-border flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)(r,{className:"w-10 h-10 text-text-muted"})}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-text-primary mb-2",children:"Watch Link Not Available"}),(0,a.jsx)("p",{className:"text-text-muted",children:"This content does not have a streaming link yet."})]})})}}},function(e){e.O(0,[562,648,384,82,971,23,744],function(){return e(e.s=3881)}),_N_E=e.O()}]);